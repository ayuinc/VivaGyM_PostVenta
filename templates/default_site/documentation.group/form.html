<!DOCTYPE html>
<!--[if lt IE 7]>		<html class="no-js ie6"> <![endif]-->
<!--[if IE 7]>			<html class="no-js ie7"> <![endif]-->
<!--[if IE 8]>			<html class="no-js ie8"> <![endif]-->
<!--[if IE 8]>			<html class="no-js ie9"> <![endif]-->
<!--[if gt IE 9]><!-->	<html class="no-js"> <!--<![endif]-->
	<head lang="en">
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<title>Form | Calendar | Solspace Addon Documentation</title>
		<meta name="description" content="" />
		<meta name="copyright" content="(c) 2010 Copyright content: Copyright design: Solspace, Inc."/>
		<meta name="viewport" content="width=device-width" />
		<link rel="stylesheet" href="assets/css/normalize.css" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="stylesheet" type="text/css" href="assets/fancybox/jquery.fancybox-1.3.4.css" />
		<link href="assets/syntaxhighlighter/styles/shCore.css" rel="stylesheet" type="text/css" />
		<link href="assets/syntaxhighlighter/styles/shThemeDefault.css" rel="stylesheet" type="text/css" />
		<script src="assets/js/modernizr.min.js"></script>
	</head>
	<body>
		<!--[if lt IE 8]>
			<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
		<![endif]-->

		<header>
			<div class="header-inner">
				<div class="logo">
					<img src="assets/images/logo.png" />
				</div>

				<div class="bread_crumbs">
					<ul class="crumbs">
						<li class="first"><a href="index.html">Calendar</a></li>
						<li>Form</li>
					</ul>
				</div>
			</div>
		</header>

		<div class="content-wrapper">
			<nav class="toc">
				<ul>
<li><a href="http://www.solspace.com/software/detail/calendar/">More Info | Purchase</a></li>
<li><a href="change_log.html">Change Log</a></li>
<li><a href="install_update.html">Install / Update</a></li>
<li><a href="getting_started.html">Getting Started</a></li>
<li><a href="control_panel.html">Control Panel</a></li>
<li><a href="cp_ui.html">CP Publish UI</a></li>
<li><a href="date_formatting.html">Date Parameter Formatting</a></li>
<li><a href="group_permissions.html">Group Permissions</a></li>
<li><a href="channel_form.html">Using with Channel Form</a></li>
<li><p><a href="extension_hooks.html">Extension Hooks</a></p></li>
<li class="template_tags"><h3>Template Tags</h3>

<ul>
<li><a href="calendar.html">Cal</a></li>
<li><a href="calendars.html">Calendars</a></li>
<li><a href="date.html">Date</a></li>
<li><a href="day.html">Day</a></li>
<li><a href="events.html">Events</a></li>
<li><a href="icalendar.html">iCalendar</a></li>
<li><a href="ics_update.html">ICS Update</a></li>
<li><a href="mini.html">Mini Calendar</a></li>
<li><a href="month.html">Month</a></li>
<li><a href="month_list.html">Month List</a></li>
<li><a href="occurrences.html">Occurrences</a></li>
<li><a href="week.html">Week</a></li>
<li><a href="year_list.html">Year List</a></li>
</ul></li>
<li><h3>Requirements</h3><div class="requirements">

<ul>
<li>EE 2.5.x - 2.8.x</li>
<li>PHP 5.2+</li>
<li>MySQL 5+</li>
</ul></div></li>
</ul>
			</nav>

			<article class="docs">
				<p><strong>NOTE:</strong> These instructions are for ExpressionEngine 1.x usage only.
For ExpressionEngine 2.x usage, please refer to the <a href="channel_form.html">Calendar
Channel Form usage documentation</a>.</p>

<p>The <em>Calendar:Form</em> Stand-alone entry/edit form function allows your
users to add and edit events via the front end. It's built on top of the
native EE <strong>Stand-Alone Entry Form</strong>, so it can do anything the EE SAEF can do and more. It also allows for editing event entries and provides easy variables for form name="" attributes.</p>

<p>This function automatically adds hidden fields for entry_id and
entry_date when editing events.</p>

<p>When using something like AJAX or JS on your form, and the name="submit"
attribute is used by some other script on the page, you can use the
"calendar_submit" alternative class to the list of things that, upon
click, can trigger Calendar's JS to kick into action for saving entries
in the SAEF.</p>

<pre class="brush: html;">{exp:calendar:form} content {/exp:calendar:form} </pre>

<ul>
<li><a href="#parameters">Parameters</a></li>
<li><a href="#variables">Variables</a></li>
<li><a href="#form_fields">Form Fields</a></li>
<li><a href="#examples">Examples</a></li>
</ul>

<p><a name="parameters"></a></p>

<h2>Parameters</h2>

<p>All parameters available in the native EE <strong>Stand-Alone Entry Form</strong>
are available for use here. Additionally, these exist as well:</p>

<ul>
<li><a href="#site_id">site_id</a></li>
<li><a href="#event_id">event_id</a></li>
<li><a href="#event_name">event_name</a></li>
<li><a href="#ignore_field">ignore_field</a></li>
</ul>

<p><a name="site_id"></a></p>

<h3>site_id=</h3>

<pre class="brush: html;">site_id="1" </pre>

<p>If using MSM, you can specify a Site ID in this parameter to filter
entries down to that site.</p>

<p><a name="event_id"></a></p>

<h3>event_id=</h3>

<pre class="brush: html;">event_id="{segment_3}" </pre>

<p>This parameter allows you to edit a specific event by specifying its
entry ID. You can hardcode an event ID, pass it through an embed, or
grab it from the URI.</p>

<p><a name="event_name"></a></p>

<h3>event_name=</h3>

<pre class="brush: html;">event_name="{segment_3}" </pre>

<p>This parameter allows you to edit a specific event by specifying its
short_name (entry url_title). You can hardcode a short_name, pass it
through an embed, or grab it from the URI.</p>

<p><a name="ignore_field"></a></p>

<h3>ignore_field=</h3>

<pre class="brush: html;">ignore_field="field_name|another_field_name|etc" </pre>

<p>This parameter was developed as a fix for <a href="http://pixelandtonic.com/fieldframe">Pixel &amp; Tonic's
Fieldframe</a> fields. To get Calendar
and Fieldframe to play nicely, specify into this parameter all
Fieldframe field short_names you wish to update, seperated by the pipe
character. Carry out your HTML form field coding as usual. If the form
is for <strong>editing events</strong>, you'll also need to then wrap the Fieldframe
fields with the <a href="http://expressionengine.com/docs/modules/weblog/weblog_entries.html" title="EE Weblog:Entries Documentation">EE
Weblog:Entries</a>
tag. Once that's done, your SAEF form should be compatible with
Fieldframe fields. See <a href="#fieldframe_edit">example here</a>.</p>

<p><a name="variables"></a></p>

<h2>Variables</h2>

<p>All variables available in the native EE <strong>Stand-Alone Entry Form</strong>
are available for use here. Additionally, these exist as well:</p>

<ul>
<li><a href="#calendar_date_widget">calendar_date_widget</a></li>
<li><a href="#v_CUSTOM_FIELD">CUSTOM_FIELD</a></li>
<li><a href="#v_CUSTOM_FIELD_field_name">CUSTOM_FIELD_field_name</a></li>
<li><a href="#v_CUSTOM_FIELD_format_name">CUSTOM_FIELD_format_name</a></li>
<li><a href="#v_CUSTOM_FIELD_format_value">CUSTOM_FIELD_format_value</a></li>
</ul>

<p><a name="calendar_date_widget"></a></p>

<h3>calendar_date_widget</h3>

<pre class="brush: html;">{calendar_date_widget} </pre>

<p>This variables adds a date-selector widget similar to the one in the
Publish/Edit page of the ExpressionEngine control panel. Additionally,
for the Date Widget to work, you'll need several JS and CSS files
called. We've created a couple tags to help you out with this, so your
HTML Head tags should look like this:</p>

<pre class="brush: html;">&lt;head&gt;    &lt;script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js"&gt;&lt;/script&gt;&lt;script type="text/javascript" src="/themes/calendar/js/jquery-ui.custom.min.js"&gt;&lt;/script&gt;{exp:calendar:datepicker_js}{exp:calendar:datepicker_css}&lt;/head&gt; </pre>

<p>Additionally, you can supply the include_jqui="off" parameter to
{exp:calendar:datepicker_js} and {exp:calendar:datepicker_css} tags to
stop Calendar's jQuery UI and CSS from loading in the event you have
another instance of jQuery UI loading.</p>

<p><a name="custom_field"></a></p>

<h3>CUSTOM_FIELD</h3>

<pre class="brush: html;">{CUSTOM_FIELD} </pre>

<p>All custom weblog fields are available for use. To parse your custom
weblog field data, just specify the short_name of the field. So to
construct these variables, simply use custom_weblog_field_short_name
(Ex: description).</p>

<p><a name="custom_field_field_name"></a></p>

<h3>CUSTOM_FIELD_field_name</h3>

<pre class="brush: html;">{CUSTOM_FIELD_field_name} </pre>

<p>This variable outputs the field ID name of custom weblog fields for the
name="" attribute in your form fields. Used in conjunction with the
<a href="#CUSTOM_FIELD_field_name">CUSTOM_FIELD_field_name</a> form field.</p>

<p>All custom weblog fields are available for use. To parse your custom
weblog field ID names, append the variables with _field_name. So to
construct these variables, simply use custom_weblog_field_short_name
+ _field_name (Ex: description + _field_name =
description_field_name - outputs field_id_26).</p>

<p><a name="custom_field_format_name"></a></p>

<h3>CUSTOM_FIELD_format_name</h3>

<pre class="brush: html;">{CUSTOM_FIELD_format_name} </pre>

<p>This variable outputs the field ID name of custom weblog formatting
fields for the name="" attribute in your form fields. This controls the
formatting for a specific field (ex: xhtml, br, none). Used in
conjunction with the
<a href="#v_CUSTOM_FIELD_format_value">CUSTOM_FIELD_format_value</a> variable
and the <a href="#CUSTOM_FIELD_format_name">CUSTOM_FIELD_format_name</a> form
field.</p>

<p>All custom weblog fields are available for use. To parse your custom
weblog field ID format names, append the variables with _format_name.
So to construct these variables, simply use
custom_weblog_field_short_name + _format_name (Ex: description +
_format_name = description_format_name - outputs field_ft_26).</p>

<p><a name="custom_field_format_value"></a></p>

<h3>CUSTOM_FIELD_format_value</h3>

<pre class="brush: html;">{CUSTOM_FIELD_format_value} </pre>

<p>This variable outputs the current format value of custom weblog fields
in your form fields (ex: xhtml, br, none). Used in conjunction with the
<a href="#v_CUSTOM_FIELD_format_name">CUSTOM_FIELD_format_name</a> variable and
the <a href="#CUSTOM_FIELD_format_name">CUSTOM_FIELD_format_name</a> form field.</p>

<p>All custom weblog fields are available for use. To parse the current
formatting for a custom weblog field, append the variables with
_format_value. So to construct these variables, simply use
custom_weblog_field_short_name + _format_value (Ex: description +
_format_value = description_format_value - outputs br).</p>

<p><a name="form_fields"></a></p>

<h2>Form Fields</h2>

<p>All form fields available in the native EE <strong>Stand-Alone Entry Form</strong>
are available for use here. Additionally, these exist as well:</p>

<ul>
<li><a href="#CUSTOM_FIELD_field_name">CUSTOM_FIELD_field_name</a></li>
<li><a href="#CUSTOM_FIELD_format_name">CUSTOM_FIELD_format_name</a></li>
</ul>

<p><a name="custom_field_field_name"></a></p>

<h3>CUSTOM_FIELD_field_name</h3>

<pre class="brush: html;">&lt;input type="text" name="{CUSTOM_FIELD_field_name}" value="{CUSTOM_FIELD}" /&gt; </pre>

<p>This form field displays existing data for an event when editing, and
allows a user to update the value for a given field. Used in conjunction
with the <a href="#v_CUSTOM_FIELD_field_name">CUSTOM_FIELD_field_name</a>
variable.</p>

<p><a name="custom_field_format_name"></a></p>

<h3>CUSTOM_FIELD_format_name</h3>

<pre class="brush: html;">&lt;input type="hidden" name="{CUSTOM_FIELD_format_name}" value="{CUSTOM_FIELD_format_value}" /&gt; </pre>

<p>This form field displays existing formatting data of a custom field for
an event when editing. Used in conjunction with the
<a href="#v_CUSTOM_FIELD_format_name">CUSTOM_FIELD_format_name</a> and
<a href="#v_CUSTOM_FIELD_format_value">CUSTOM_FIELD_format_value</a> variables.</p>

<p><a name="examples"></a></p>

<h2>Examples</h2>

<p><a name="creating_events"></a></p>

<h3>Creating Events</h3>

<p>Below is a complete example that will allow your users to submit events
via the front end:</p>

<pre class="brush: html;">&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Add an Event to the Calendar&lt;/title&gt;
        &lt;script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript" src="/themes/calendar/js/jquery-ui.custom.min.js"&gt;&lt;/script&gt;
        {exp:calendar:datepicker_js}
        {exp:calendar:datepicker_css}
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div id="calendar_saef"&gt;
            {exp:calendar:form weblog="calendar_events" return="calendar/month"}
                &lt;p&gt;&lt;label&gt;Title:&lt;/label&gt;&lt;br /&gt;
                &lt;input type="text" name="title" value="{title}" size="80" /&gt;&lt;/p&gt;
                {calendar_date_widget}
                &lt;p&gt;&lt;label&gt;Summary:&lt;/label&gt;&lt;br /&gt;
                &lt;textarea name="{event_summary_field_name}" rows="5" cols="65"&gt;{event_summary}&lt;/textarea&gt;
                &lt;input type="hidden" name="{event_summary_format_name}" value="{event_summary_format_value}" /&gt;&lt;/p&gt;
                &lt;p&gt;&lt;label&gt;Location:&lt;/label&gt;&lt;br /&gt;
                &lt;input type="text" name="event_location_field_name" value="{event_location}" size="80" /&gt;&lt;/p&gt;
                &lt;input type="hidden" name="{event_location_format_name}" value="{event_location_format_value}" /&gt;&lt;/p&gt;
                &lt;p&gt;&lt;input type="submit" name="submit" value="Submit" /&gt;&lt;/p&gt;
            {/exp:calendar:form}
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</pre>

<p><a name="editing_events"></a></p>

<h3>Editing Events</h3>

<p>Below is a complete example that will allow your users to edit events
via the front end:</p>

<pre class="brush: html;">&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Edit an Event in the Calendar&lt;/title&gt;
        &lt;script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript" src="/themes/calendar/js/jquery-ui.custom.min.js"&gt;&lt;/script&gt;
        {exp:calendar:datepicker_js}
        {exp:calendar:datepicker_css}
    &lt;/head&gt;
    &lt;body&gt;

        &lt;div id="calendar_saef"&gt;
            {exp:calendar:form weblog="calendar_events" event_id="{segment_3}" return="calendar/month"}
                &lt;p&gt;&lt;label&gt;Title:&lt;/label&gt;&lt;br /&gt;
                &lt;input type="text" name="title" value="{title}" size="80" /&gt;&lt;/p&gt;
                {calendar_date_widget}
                &lt;p&gt;&lt;label&gt;Summary:&lt;/label&gt;&lt;br /&gt;
                &lt;textarea name="{event_summary_field_name}" rows="5" cols="65"&gt;{event_summary}&lt;/textarea&gt;
                &lt;input type="hidden" name="{event_summary_format_name}" value="{event_summary_format_value}" /&gt;&lt;/p&gt;
                &lt;p&gt;&lt;label&gt;Location:&lt;/label&gt;&lt;br /&gt;
                &lt;input type="text" name="event_location_field_name" value="{event_location}" size="80" /&gt;&lt;/p&gt;
                &lt;input type="hidden" name="{event_location_format_name}" value="{event_location_format_value}" /&gt;&lt;/p&gt;
                &lt;p&gt;&lt;input type="submit" name="submit" value="Submit" /&gt;&lt;/p&gt;
            {/exp:calendar:form}
        &lt;/div&gt;

    &lt;/body&gt;
&lt;/html&gt;
</pre>

<p><a name="editing_events_with_fieldframe_fields"></a></p>

<h3>Editing Events with Fieldframe fields</h3>

<p>Below is an example of how to implement the <a href="#ignore_field">Fieldframe
fix</a> in your form so that Calendar and Fieldframe fields
play nicely together when editing events via the front end:</p>

<pre class="brush: html;">&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Edit an Event in the Calendar&lt;/title&gt;
        &lt;script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript" src="/themes/calendar/js/jquery-ui.custom.min.js"&gt;&lt;/script&gt;
        {exp:calendar:datepicker_js}
        {exp:calendar:datepicker_css}
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div id="calendar_saef"&gt;
            {exp:calendar:form weblog="calendar_events" event_id="{segment_3}" return="calendar/month" ignore_field="fieldframe_field_name|another_fieldframe_field_name"}
                &lt;p&gt;&lt;label&gt;Title:&lt;/label&gt;&lt;br /&gt;
                &lt;input type="text" name="title" value="{title}" size="80" /&gt;&lt;/p&gt;
                {calendar_date_widget}
                &lt;p&gt;&lt;label&gt;Summary:&lt;/label&gt;&lt;br /&gt;
                &lt;textarea name="{event_summary_field_name}" rows="5" cols="65"&gt;{event_summary}&lt;/textarea&gt;
                &lt;input type="hidden" name="{event_summary_format_name}" value="{event_summary_format_value}" /&gt;&lt;/p&gt;
                &lt;p&gt;&lt;label&gt;Location:&lt;/label&gt;&lt;br /&gt;
                &lt;input type="text" name="event_location_field_name" value="{event_location}" size="80" /&gt;&lt;/p&gt;
                &lt;input type="hidden" name="{event_location_format_name}" value="{event_location_format_value}" /&gt;&lt;/p&gt;

                {exp:weblog:entries entry_id="{segment_3}" limit="1"}
                    &lt;p&gt;&lt;label&gt;Fieldframe Field:&lt;/label&gt;&lt;br /&gt;
                    &lt;input type="text" name="fieldframe_field_name" value="{fieldframe_field_name}" size="80" /&gt;&lt;/p&gt;
                    &lt;p&gt;&lt;label&gt;Another Fieldframe Field:&lt;/label&gt;&lt;br /&gt;
                    &lt;input type="text" name="another_fieldframe_field_name" value="{another_fieldframe_field_name}" size="80" /&gt;&lt;/p&gt;
                {/exp:weblog:entries}

                &lt;p&gt;&lt;input type="submit" name="submit" value="Submit" /&gt;&lt;/p&gt;
            {/exp:calendar:form}
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</pre>
			</article>
		</div>

		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/fancybox/jquery.fancybox-1.3.4.pack.js"></script>
		<script src="assets/syntaxhighlighter/scripts/shCore.js"></script>
		<script src="assets/syntaxhighlighter/scripts/shAutoloader.js"></script>
		<script src="assets/js/main.js"></script>
	</body>
</html>